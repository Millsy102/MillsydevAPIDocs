{% comment %}
GitHub Pages specific features and enhancements
Usage: {% include github-pages-features.html %}
{% endcomment %}

<!-- GitHub Pages Enhanced Features -->
<div class="github-pages-features">
    <!-- Development Tools Section -->
    <div class="live-demo-section">
        <h3><i class="fas fa-tools"></i> Development Tools</h3>
        <div class="demo-buttons">
            <a href="/api/testing-tool.html" class="demo-button primary">
                <i class="fas fa-code"></i> API Testing Tool
            </a>
            <a href="/api/postman-collection.json" class="demo-button secondary" download>
                <i class="fas fa-download"></i> Postman Collection
            </a>
            <a href="/api/" class="demo-button secondary">
                <i class="fas fa-book"></i> API Documentation
            </a>
        </div>
    </div>

    <!-- Service Status -->
    <div class="quick-stats">
        <div class="stat-item">
            <div class="stat-number status-indicator" id="bot-status">
                <span class="status-dot offline"></span> Offline
            </div>
            <div class="stat-label">Bot Status</div>
        </div>
        <div class="stat-item">
            <div class="stat-number status-indicator" id="api-status">
                <span class="status-dot offline"></span> Offline
            </div>
            <div class="stat-label">API Status</div>
        </div>
        <div class="stat-item">
            <div class="stat-number status-indicator" id="vps-status">
                <span class="status-dot offline"></span> Offline
            </div>
            <div class="stat-label">VPS Status</div>
        </div>
        <div class="stat-item">
            <div class="stat-number status-indicator" id="database-status">
                <span class="status-dot offline"></span> Offline
            </div>
            <div class="stat-label">Database</div>
        </div>
    </div>

    <!-- Community Links -->
    <div class="community-links">
        <h3>Join Our Community</h3>
        <div class="community-buttons">
            <a href="https://discord.gg/sa9ENVmJvg" class="community-button discord" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-discord"></i> Discord Server
            </a>
            <a href="https://github.com/Millsy102" class="community-button github" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-github"></i> GitHub
            </a>
            <a href="https://twitter.com/millsydev" class="community-button twitter" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-twitter"></i> Twitter
            </a>
        </div>
    </div>

    <!-- Detailed Service Status -->
    <div class="service-status">
        <h4><i class="fas fa-server"></i> System Status</h4>
        <div class="status-grid">
            <div class="status-item">
                <span class="status-dot offline"></span>
                <span class="status-text">Bot Status:</span>
                <span class="status-value">Offline</span>
            </div>
            <div class="status-item">
                <span class="status-dot offline"></span>
                <span class="status-text">API Server:</span>
                <span class="status-value">Offline</span>
            </div>
            <div class="status-item">
                <span class="status-dot offline"></span>
                <span class="status-text">VPS:</span>
                <span class="status-value">Offline</span>
            </div>
            <div class="status-item">
                <span class="status-dot offline"></span>
                <span class="status-text">Database:</span>
                <span class="status-value">Offline</span>
            </div>
        </div>
    </div>

    <!-- Resource Usage -->
    <div class="service-status">
        <h4><i class="fas fa-chart-line"></i> Resource Usage</h4>
        <div class="status-grid">
            <div class="status-item">
                <span class="status-dot warning"></span>
                <span class="status-text">CPU:</span>
                <span class="status-value">N/A</span>
            </div>
            <div class="status-item">
                <span class="status-dot warning"></span>
                <span class="status-text">Memory:</span>
                <span class="status-value">N/A</span>
            </div>
            <div class="status-item">
                <span class="status-dot warning"></span>
                <span class="status-text">Disk:</span>
                <span class="status-value">N/A</span>
            </div>
            <div class="status-item">
                <span class="status-dot warning"></span>
                <span class="status-text">Network:</span>
                <span class="status-value">N/A</span>
            </div>
        </div>
    </div>

    <!-- Status Indicator -->
    <div class="status-indicator">
        <div class="status-dot offline"></div>
        <span>All services offline - Development paused</span>
        <a href="/status/">View Status</a>
    </div>
</div>

<style>
.github-pages-features {
    margin: 24px auto;
    padding: 20px;
    background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
    border: 1px solid #333;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    max-width: 1000px;
}

.live-demo-section {
    margin-bottom: 20px;
}

.live-demo-section h3 {
    color: #ff4444;
    margin-bottom: 16px;
    font-size: 1.3em;
}

.demo-buttons {
    display: flex;
    gap: 8px;
    flex-wrap: nowrap;
    justify-content: center;
    align-items: center;
    max-width: 600px;
    margin: 0 auto;
}

.demo-button {
    padding: 12px 20px;
    border-radius: 8px;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-weight: 500;
    transition: all 0.3s ease;
    border: 1px solid transparent;
}

.demo-button.primary {
    background: linear-gradient(135deg, #ff4444, #ff6666);
    color: white;
}

.demo-button.primary:hover {
    background: linear-gradient(135deg, #ff6666, #ff8888);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 68, 68, 0.3);
}

.demo-button.secondary {
    background: #2a2a2a;
    color: #cccccc;
    border-color: #444;
}

.demo-button.secondary:hover {
    background: #333;
    border-color: #555;
    color: #ffffff;
}

.quick-stats {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 24px auto;
    padding: 16px;
    background: #1a1a1a;
    border-radius: 8px;
    border: 1px solid #333;
    max-width: 800px;
}

.stat-item {
    text-align: center;
}

.stat-number {
    font-size: 2em;
    font-weight: bold;
    color: #ff4444;
    margin-bottom: 4px;
}

.stat-label {
    color: #cccccc;
    font-size: 14px;
}

.community-links {
    margin: 20px 0;
}

.community-links h3 {
    color: #ff4444;
    margin-bottom: 16px;
    font-size: 1.3em;
}

.community-buttons {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    justify-content: center;
    max-width: 500px;
    margin: 0 auto;
}

.community-button {
    padding: 10px 16px;
    border-radius: 6px;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    transition: all 0.3s ease;
}

.community-button.discord {
    background: #5865F2;
    color: white;
}

.community-button.discord:hover {
    background: #4752C4;
}

.community-button.github {
    background: #333;
    color: white;
}

.community-button.github:hover {
    background: #444;
}

.community-button.twitter {
    background: #1DA1F2;
    color: white;
}

.community-button.twitter:hover {
    background: #0d8bd9;
}

.status-indicator {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 16px;
    background: #1a1a1a;
    border-radius: 6px;
    border: 1px solid #333;
    font-size: 14px;
}

.status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: #4CAF50;
    animation: pulse 2s infinite;
}

.status-dot.online {
    background: #4CAF50;
}

.status-dot.development {
    background: #FF9800;
}

.status-dot.offline {
    background: #f44336;
}

.status-dot.online {
    background: #4CAF50;
}

.status-dot.warning {
    background: #FF9800;
}

.status-indicator {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 1.2em;
    font-weight: bold;
}

.status-indicator .status-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    animation: pulse 2s infinite;
}

.status-indicator span {
    color: #cccccc;
    flex: 1;
}

.status-indicator a {
    color: #ff4444;
    text-decoration: none;
}

.status-indicator a:hover {
    color: #ff6666;
    text-decoration: underline;
}

@keyframes pulse {
    0% { opacity: 1; }
    50% { opacity: 0.5; }
    100% { opacity: 1; }
}

/* Service Status Monitoring */
.service-status {
    margin: 20px 0;
    padding: 16px;
    background: #1a1a1a;
    border-radius: 8px;
    border: 1px solid #333;
}

.service-status h4 {
    color: #ff4444;
    margin-bottom: 12px;
    font-size: 1.1em;
}

.status-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 12px;
}

.status-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px;
    background: #2a2a2a;
    border-radius: 6px;
    border: 1px solid #444;
}

.status-item .status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    animation: pulse 2s infinite;
}

.status-item .status-text {
    color: #cccccc;
    font-size: 14px;
}

.status-item .status-value {
    color: #ffffff;
    font-weight: bold;
    margin-left: auto;
}

@media (max-width: 768px) {
    .demo-buttons,
    .community-buttons {
        flex-direction: column;
    }
    
    .quick-stats {
        flex-direction: column;
        gap: 15px;
    }
    
    .status-grid {
        grid-template-columns: 1fr;
    }
}
</style>

<script>
// Service Status Monitoring
class ServiceMonitor {
    constructor() {
        this.services = {
            bot: { url: 'https://api.millsy.dev/health/bot', name: 'Bot' },
            api: { url: 'https://api.millsy.dev/health', name: 'API Server' },
            vps: { url: 'https://api.millsy.dev/health/vps', name: 'VPS' },
            database: { url: 'https://api.millsy.dev/health/db', name: 'Database' }
        };
        this.init();
    }

    init() {
        this.checkAllServices();
        // Check every 30 seconds
        setInterval(() => this.checkAllServices(), 30000);
    }

    async checkAllServices() {
        for (const [key, service] of Object.entries(this.services)) {
            try {
                const response = await fetch(service.url, { 
                    method: 'GET',
                    timeout: 5000 
                });
                
                if (response.ok) {
                    this.updateStatus(key, 'online');
                } else {
                    this.updateStatus(key, 'offline');
                }
            } catch (error) {
                this.updateStatus(key, 'offline');
            }
        }
    }

    updateStatus(serviceKey, status) {
        const statusElement = document.getElementById(`${serviceKey}-status`);
        if (statusElement) {
            const dot = statusElement.querySelector('.status-dot');
            const text = statusElement.querySelector('.status-text') || statusElement;
            
            // Remove existing status classes
            dot.classList.remove('online', 'offline', 'warning');
            dot.classList.add(status);
            
            // Update text
            if (status === 'online') {
                text.textContent = 'Online';
            } else if (status === 'offline') {
                text.textContent = 'Offline';
            } else {
                text.textContent = 'Warning';
            }
        }
    }
}

// Initialize service monitoring when page loads
document.addEventListener('DOMContentLoaded', () => {
    new ServiceMonitor();
});
</style>
